CREATE TABLE cars (id INTEGER PRIMARY KEY ASC AUTOINCREMENT UNIQUE NOT NULL, displayName TEXT UNIQUE NOT NULL, searchUrl TEXT UNIQUE, isOwned BOOLEAN NOT NULL, created DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL);
CREATE TABLE consumption (id INTEGER PRIMARY KEY ASC AUTOINCREMENT, carId INTEGER NOT NULL REFERENCES cars (id), price REAL NOT NULL, gallons REAL NOT NULL, miles REAL NOT NULL, notes TEXT DEFAULT NULL, created DATETIME NOT NULL DEFAULT (CURRENT_TIMESTAMP));
CREATE TABLE genres (id INTEGER PRIMARY KEY ASC AUTOINCREMENT, description TEXT UNIQUE NOT NULL, created DATETIME NOT NULL DEFAULT (CURRENT_TIMESTAMP));
CREATE TABLE books (id INTEGER PRIMARY KEY ASC AUTOINCREMENT, title TEXT NOT NULL, author TEXT NOT NULL, pages INTEGER NOT NULL, rating INTEGER NOT NULL, isFiction BOOLEAN NOT NULL, publishDate DATETIME, review TEXT, created DATETIME DEFAULT (CURRENT_TIMESTAMP) NOT NULL);
CREATE TABLE books_genres_association (id INTEGER PRIMARY KEY ASC AUTOINCREMENT, bookId INTEGER NOT NULL REFERENCES books (id) ON DELETE RESTRICT, genreId INTEGER NOT NULL REFERENCES genres (id) ON DELETE RESTRICT, created DATETIME NOT NULL DEFAULT (CURRENT_TIMESTAMP), UNIQUE (bookId ASC, genreId ASC));
